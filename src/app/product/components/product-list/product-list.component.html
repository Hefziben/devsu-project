<div class="content-wrapper">
  <div class="main-content">
    <div class="list-options">
      <div class="search-product">
        <input type="text" placeholder="Buscar" [(ngModel)]="searchTerm" (input)="onSearch()" />
      </div>
      <button class="general-btn" type="button" (click)="addProduct()">Agregar</button>
    </div>
    <div class="table-wrapper">
      <ng-container *ngIf="isMobile">
        <div *ngFor="let product of getSlicedProducts; trackBy: trackById" class="product-card">
          <div class="product-image">
            <img [src]="product.logo" alt="Logo" />
          </div>
          <div class="product-details">
            <div class="product-name">{{ product.name }}</div>
            <div class="product-description">{{ product.description }}</div>
            <div class="product-dates">
              <div class="release-date">Fecha de liberación: {{ product.date_release | date: 'MM/dd/yyyy' }}</div>
              <div class="revision-date">Fecha de revisión: {{ product.date_revision | date: 'MM/dd/yyyy' }}</div>
            </div>
        <div class="product-options">
          <button   class="general-btn editBtn" type="button" (click)="onEditClicked(product.id)">Edit</button>
          <button (click)="showConfirmation(product)" class="general-btn" type="button">Eliminar</button>
        </div>
          </div>
        </div>
      </ng-container>
      <ng-container *ngIf="!isMobile">
        <table class="product-table">
          <thead>
            <tr>
              <th *ngFor="let column of displayedColumns">{{ column }}</th>
            </tr>
          </thead>
          <tbody>
          <tr *ngFor="let product of getSlicedProducts; trackBy: trackById">
            <td><img class="product-image" [src]="product.logo" alt="Logo"></td>
            <td>{{ product.name }}</td>
            <td>{{ product.description }}</td>
            <td>{{ product.date_release | date:'MM/dd/yyyy' }}</td>
            <td>{{ product.date_revision | date:'MM/dd/yyyy' }}</td>
            <td>
              <div dropdownMenu (editClick)="onEditClicked(product.id)" (deleteClick)="showConfirmation(product)">
                <button class="dropbtn">...</button>
              </div>
            </td>
          </tr>
          </tbody>
        </table>
      </ng-container>
    </div>
    <app-pagination
      [currentPage]="currentPage"
      [totalPages]="totalPages"
      [results]="totalItems"
      (pageChange)="onPageChange($event)"
      (itemsPerPageChange)="onItemsPerPageChange($event)"
    ></app-pagination>
  </div>
</div>
